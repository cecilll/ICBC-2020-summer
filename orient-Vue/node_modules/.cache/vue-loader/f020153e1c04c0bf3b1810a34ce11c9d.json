{"remainingRequest":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\src\\components\\Login.vue?vue&type=style&index=0&id=ef68022e&scoped=true&lang=css&","dependencies":[{"path":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\src\\components\\Login.vue","mtime":1594539761835},{"path":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkPlace\\GitHub\\ICBC-2020-summer\\orient-Vue\\loginjump\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAiLi4vYXNzZXRzL3N0eWxlL0xvZ2luLmNzcyI7DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"login-box\">\r\n    <el-form ref=\"loginForm\" :rules=\"account\" :model=\"loginForm\" label-position=\"right\" label-width=\"auto\" show-message >\r\n      <div class=\"title\">LOGIN</div>\r\n      <div class=\"main\">\r\n        <div class=\"row\">\r\n          <p>Login with your account</p>\r\n        </div>\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            placeholder=\"User Name\"\r\n            prefix-icon=\"el-icon-s-custom\"\r\n            v-model=\"loginForm.username\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            placeholder=\"password\"\r\n            prefix-icon=\"el-icon-lock\"\r\n            v-model=\"loginForm.password\"\r\n            show-password\r\n          ></el-input>\r\n        </el-form-item>\r\n        <div class=\"row\">\r\n          <el-checkbox v-model=\"checked\">Remember Me</el-checkbox>\r\n          <a href=\"#\">Forget password</a>\r\n        </div>\r\n        <el-form-item>\r\n          <el-button @click=\"handleLogin\">Login</el-button>\r\n        </el-form-item>\r\n        <div class=\"row\">\r\n          <p>\r\n            if you do not have an account,\r\n            <a href=\"#\">Sign up</a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { requestLogin } from '../api/api';\r\n// import {Login} from '../requests/api'\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      logining: false,\r\n      loginForm: {\r\n        username: \"\",\r\n        password: \"\"\r\n      },\r\n\r\n      account: {\r\n        username: [{ required: true, message: \"请输入账号\", trigger: \"blur\" }],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }]\r\n      },\r\n      checked: true\r\n    };\r\n  },\r\n  methods: {\r\n    handleLogin: async function() {\r\n      let valid = await this.$refs.loginForm.validate();\r\n      if (valid) {\r\n        this.logining = true;\r\n        let loginParams = {\r\n          username: this.loginForm.username,\r\n          password: this.loginForm.password\r\n        };\r\n        // 调用axios登录接口\r\n        await this.$api\r\n          .Login(loginParams)\r\n          .then(res => {\r\n            // debugger;\r\n            let { code, msg, user } = res.data;\r\n            if (code === 200) {\r\n              // elementui中提示组件\r\n              this.$message({\r\n                type: \"success\",\r\n                message: msg\r\n              });\r\n              // 登陆成功，用户信息就保存在sessionStorage中\r\n              sessionStorage.setItem(\"user\", JSON.stringify(user));\r\n              // 跳转到后台主页面\r\n              console.log(\"this\", this);\r\n              this.$router.push({ path: \"/home\" });\r\n            } else {\r\n              this.$message({\r\n                type: \"error\",\r\n                message: msg\r\n              });\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        console.log(\"error submit!\");\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../assets/style/Login.css\";\r\n</style>\r\n"]}]}